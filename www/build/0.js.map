{"version":3,"sources":["../../src/pages/popin-membership-association/popin-membership-association.module.ts","../../src/pages/popin-membership-association/popin-membership-association.ts","../../node_modules/rxjs/util/isNumeric.js","../../node_modules/rxjs-compat/util/isNumeric.js"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { PopinMembershipAssociationPage } from './popin-membership-association';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PopinMembershipAssociationPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(PopinMembershipAssociationPage),\r\n  ],\r\n  exports: [\r\n    PopinMembershipAssociationPage\r\n  ]\r\n})\r\nexport class PopinMembershipAssociationPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/popin-membership-association/popin-membership-association.module.ts","import { Component } from '@angular/core';\r\nimport {IonicPage, LoadingController, ModalController, NavController, NavParams, Events, ViewController} from 'ionic-angular';\r\nimport {AssociationProvider} from \"../../providers/association/association\";\r\nimport {isNumeric} from \"rxjs/util/isNumeric\";\r\nimport {GlobalsProvider} from \"../../providers/globals/globals\";\r\nimport {MerchantProvider} from \"../../providers/merchant/merchant\";\r\n\r\n/**\r\n * Generated class for the PopinMembershipAssociationPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-popin-membership-association',\r\n  templateUrl: 'popin-membership-association.html',\r\n})\r\nexport class PopinMembershipAssociationPage {\r\n\r\n  public id : number;\r\n  public phoneNumber: any;\r\n  public currentUser = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n  public invalidPhoneNumber = false;\r\n  constructor(public navCtrl: NavController,\r\n              public navParams: NavParams,\r\n              private view: ViewController,\r\n              public loadingCtrl: LoadingController,\r\n              public serviceAssociation : AssociationProvider,\r\n              private modal: ModalController,\r\n              public merchantService: MerchantProvider,\r\n              public appEvent: Events,\r\n              public appGloabs: GlobalsProvider) {\r\n      this.id = navParams.get('id');\r\n      this.phoneNumber = this.currentUser.phone;\r\n\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n\r\n  Close() {\r\n    this.view.dismiss();\r\n  }\r\n\r\n  sendRequest() {\r\n      var phoneRegexp = /^(33|0)\\d{9}$/;\r\n\r\n      if (this.phoneNumber == '' || isNumeric(this.phoneNumber)) {\r\n          if (phoneRegexp.test(this.phoneNumber)) {\r\n              this.invalidPhoneNumber = false;\r\n              this.view.dismiss();\r\n              let loadingPopup = this.loadingCtrl.create({});\r\n              if (this.appGloabs.isFromMerchant) {\r\n                  this.merchantService.postDemandRequest(this.id, this.phoneNumber).then(data => {\r\n                          loadingPopup.dismiss();\r\n                          const myModal2 = this.modal.create('PopupPage', {\"message\": \"<p>C'est parfait. <br> Votre demande d’accès a été envoyée à l’administrateur du commerce / partenaire. </p>\"}, {cssClass: 'message-modal'});\r\n                          myModal2.onDidDismiss(() => {\r\n                          });\r\n                          myModal2.present();\r\n                          this.appGloabs.isFromMerchant = false;\r\n                      },\r\n                      err => {\r\n                          this.appEvent.publish('http:errors', err);\r\n                          loadingPopup.dismiss();\r\n                          this.appGloabs.isFromMerchant = false;\r\n                      });\r\n              } else {\r\n                  this.serviceAssociation.postDemandRequest(this.id, this.phoneNumber).then(data => {\r\n                          loadingPopup.dismiss();\r\n                          const myModal2 = this.modal.create('PopupPage', {\"message\": \"<p>C'est parfait. <br> Votre demande d’accès a été envoyée à l’administrateur du Groupe / Association. </p>\"}, {cssClass: 'message-modal'});\r\n                          myModal2.onDidDismiss(() => {\r\n                          });\r\n                          myModal2.present();\r\n                      },\r\n                      err => {\r\n                          this.appEvent.publish('http:errors', err);\r\n                          loadingPopup.dismiss();\r\n                      });\r\n              }\r\n\r\n          }\r\n          else{\r\n              this.invalidPhoneNumber = true;\r\n          }\r\n      }\r\n      else {\r\n        this.invalidPhoneNumber = true;\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/popin-membership-association/popin-membership-association.ts","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"rxjs-compat/util/isNumeric\"));\n//# sourceMappingURL=isNumeric.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/util/isNumeric.js\n// module id = 1051\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar internal_compatibility_1 = require(\"rxjs/internal-compatibility\");\nexports.isNumeric = internal_compatibility_1.isNumeric;\n//# sourceMappingURL=isNumeric.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs-compat/util/isNumeric.js\n// module id = 1052\n// module chunks = 0"],"sourceRoot":""}