{"version":3,"sources":["../../src/pages/sondage/sondage.module.ts","../../src/pages/sondage/sondage.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import {NgModule} from \"@angular/core\";\r\nimport {IonicPageModule} from \"ionic-angular\";\r\nimport {SondagePage} from \"./sondage\";\r\n\r\n@NgModule({\r\n    declarations: [\r\n        SondagePage,\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(SondagePage),\r\n    ],\r\n})\r\nexport class SondagePageModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sondage/sondage.module.ts","import {Camera} from \"@ionic-native/camera\";\r\nimport {ArticleProvider} from \"../../providers/article/article\";\r\nimport {UserProvider} from \"../../providers/user/user\";\r\nimport {GlobalsProvider} from \"../../providers/globals/globals\";\r\nimport {EventsrestProvider} from \"../../providers/eventsrest/eventsrest\";\r\nimport {AssociationProvider} from \"../../providers/association/association\";\r\nimport {MerchantProvider} from \"../../providers/merchant/merchant\";\r\nimport {SurveyProvider} from \"../../providers/survey/survey\";\r\nimport {\r\n    ActionSheetController,\r\n    AlertController,\r\n    Content,\r\n    Events,\r\n    IonicPage,\r\n    LoadingController,\r\n    NavController,\r\n    NavParams,\r\n    Platform,\r\n    Slides,\r\n    ViewController\r\n} from \"ionic-angular\";\r\nimport \"rxjs/add/operator/map\";\r\nimport {Component, ViewChild} from \"@angular/core\";\r\nimport {FormBuilder} from \"@angular/forms\";\r\n/**\r\n * Generated class for the PublishPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-sondage',\r\n    templateUrl: 'sondage.html',\r\n    providers: [SurveyProvider]\r\n})\r\nexport class SondagePage {\r\n    @ViewChild(Slides) slides: Slides;\r\n\r\n    @ViewChild(Content) content: Content;\r\n\r\n    public articles: any;\r\n    public items = [];\r\n    public listPhotos = [];\r\n    public categories: any;\r\n    public userImg: any;\r\n    public userId: any;\r\n    public userFullName: any;\r\n    public filter: any = {\r\n        city: 'all',\r\n        category: 0\r\n    };\r\n    public currentUser: any;\r\n    public article = {\r\n        title: null,\r\n        photo: null,\r\n        photos: null,\r\n        secondPhoto: '',\r\n        thirdPhoto: '',\r\n        sondage: null,\r\n    };\r\n    public communityId:any;\r\n    public questionArray: any = [];\r\n\r\n    public isSubmitEnabled = true;\r\n    public submited = false;\r\n    public accountType: any;\r\n    public account: any;\r\n    public dateEndError = false;\r\n    public idEvent: any;\r\n    public showEvent: boolean = false;\r\n    public allCategories: any;\r\n    public invalidTitre = false;\r\n    public invalidDesc = false;\r\n    public invalidQuestion = [];\r\n    public nbreSlide: number;\r\n    public data = false;\r\n\r\n    constructor(public event: Events,\r\n                public formBuilder: FormBuilder,\r\n                public globals: GlobalsProvider,\r\n                private view: ViewController,\r\n                public actionSheetCtrl: ActionSheetController,\r\n                public userService: UserProvider,\r\n                private camera: Camera,\r\n                public navCtrl: NavController,\r\n                public navParams: NavParams,\r\n                public articleService: ArticleProvider,\r\n                private loadingCtrl: LoadingController,\r\n                public alertCtrl: AlertController,\r\n                public platform: Platform,\r\n                public serviceEvent: EventsrestProvider,\r\n                public associationService: AssociationProvider,\r\n                public merchantService: MerchantProvider,\r\n                public surveyService: SurveyProvider) {\r\n\r\n        let loadingPopup = this.loadingCtrl.create({});\r\n        loadingPopup.present();\r\n        this.communityId = navParams.get('community');\r\n        this.userImg = localStorage.getItem(\"user_image\");\r\n        this.userId = localStorage.getItem(\"user_id\");\r\n        this.userFullName = localStorage.getItem(\"user_firstname\") + \" \" + localStorage.getItem(\"user_lastname\");\r\n        this.event.publish('user:current');\r\n        this.currentUser = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n        this.questionArray.push({'value': ''});\r\n        this.questionArray.push({'value': ''});\r\n        loadingPopup.dismiss();\r\n    }\r\n\r\n    getQuestionArrayData() {\r\n        this.data = true;\r\n    }\r\n\r\n    Add() {\r\n        this.questionArray.push({'value': '','error': false});\r\n    }\r\n    remove(value) {\r\n        var index = value-1;\r\n        this.questionArray.splice(index, 1);\r\n    }\r\n\r\n    ionViewWillLeave() {\r\n        this.globals.showHeader = true;\r\n    }\r\n\r\n    goToSlide(nbreSlide) {\r\n        this.slides.slideTo(500, nbreSlide);\r\n    }\r\n\r\n    public takePicture() {\r\n        this.camera.getPicture({\r\n            destinationType: this.camera.DestinationType.DATA_URL,\r\n            quality: 100,\r\n            targetWidth: 600,\r\n            targetHeight: 600,\r\n            allowEdit: true,\r\n            correctOrientation: true,\r\n            encodingType: this.camera.EncodingType.JPEG\r\n        }).then((imageData) => {\r\n            if (!this.article.photo) {\r\n                this.article.photo = \"data:image/jpeg;base64,\" + imageData;\r\n            } else if (this.listPhotos.length <= 8) {\r\n                this.listPhotos.push(\"data:image/jpeg;base64,\" + imageData);\r\n            }\r\n            this.article.photos = this.listPhotos;\r\n            this.slides.slideNext(500);\r\n        });\r\n    }\r\n\r\n    public loadImageFromLibrary() {\r\n        this.camera.getPicture({\r\n            destinationType: this.camera.DestinationType.DATA_URL,\r\n            sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\r\n            quality: 100,\r\n            targetWidth: 600,\r\n            targetHeight: 600,\r\n            allowEdit: true,\r\n            correctOrientation: true,\r\n            encodingType: this.camera.EncodingType.JPEG\r\n        }).then((imageData) => {\r\n            if (!this.article.photo) {\r\n                this.article.photo = \"data:image/jpeg;base64,\" + imageData;\r\n            } else if (this.listPhotos.length <= 8) {\r\n                this.listPhotos.push(\"data:image/jpeg;base64,\" + imageData);\r\n            }\r\n            this.article.photos = this.listPhotos;\r\n            this.slides.slideNext(500);\r\n        });\r\n    }\r\n\r\n    public deletePhotos(index) {\r\n\r\n        this.article.photos.splice(index, 1);\r\n\r\n    }\r\n\r\n    public presentActionSheet() {\r\n        let actionSheet = this.actionSheetCtrl.create({\r\n            title: 'Sélectionner la source d image',\r\n            buttons: [\r\n                {\r\n                    text: 'Choisir une photo de la bibliothèque',\r\n                    handler: () => {\r\n                        this.loadImageFromLibrary();\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Prendre une photo',\r\n                    handler: () => {\r\n                        this.takePicture();\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Annuler',\r\n                    role: 'cancel'\r\n                }\r\n            ]\r\n        });\r\n        actionSheet.present();\r\n    }\r\n\r\n    public deletePhoto(index) {\r\n        if (index == 1) {\r\n            this.article.photo = null;\r\n        } else if (index == 2) {\r\n            this.article.secondPhoto = null;\r\n        } else if (index == 3) {\r\n            this.article.thirdPhoto = null;\r\n        }\r\n    }\r\n\r\n    Close() {\r\n        this.view.dismiss('close');\r\n    }\r\n\r\n\r\n    capitalize(event, type) {\r\n        if (event) {\r\n            if (type == 'title') {\r\n                this.article.title = event.charAt(0).toUpperCase() + event.slice(1);\r\n            }\r\n            if (type == 'sondage') {\r\n                this.article.sondage = event.charAt(0).toUpperCase() + event.slice(1);\r\n            }\r\n        }\r\n    }\r\n\r\n    openEvent(e) {\r\n        this.showEvent = e._value;\r\n    }\r\n\r\n    goBack() {\r\n        this.view.dismiss();\r\n    }\r\n\r\n    checkFocus(element) {\r\n        if (this.platform.is('android')) {\r\n            var requiredElement = element.target.offsetParent.parentElement;\r\n            var yOffset = requiredElement.offsetTop;\r\n\r\n            var test = yOffset - 40;\r\n            this.content.scrollTo(0, test, 2000);\r\n        }\r\n    }\r\n    checkChangeArray(element){\r\n        this.questionArray[element]['error'] = !( this.questionArray[element]['value'] &&  this.questionArray[element]['value'] != \"\");\r\n    }\r\n\r\n    saveSurvey(errorValidation, title, description) {\r\n        this.submited = true;\r\n        for (let question of this.questionArray){\r\n            question['error'] = !(question['value'] && question['value'] != \"\");\r\n        }\r\n\r\n        if (!errorValidation) {\r\n            this.isSubmitEnabled = false;\r\n\r\n            let loadingPopup = this.loadingCtrl.create({});\r\n            loadingPopup.present();\r\n            this.surveyService.postSurvey(this.currentUser.id, this.article, this.questionArray,this.communityId).then(data => {\r\n                    loadingPopup.dismiss();\r\n                    this.items.splice(0, 0, data);\r\n                    let successAlert = this.alertCtrl.create({\r\n                        title: 'Succès',\r\n                        subTitle: 'Votre sondage a été ajouté avec succès.',\r\n                        buttons: [\r\n                            {\r\n                                text: 'OK',\r\n                                handler: data => {\r\n                                    this.Close();\r\n                                }\r\n                            }\r\n                        ]\r\n                    });\r\n\r\n                    successAlert.present();\r\n                },\r\n                err => {\r\n                    console.log(err);\r\n                    this.isSubmitEnabled = true;\r\n                    loadingPopup.dismiss();\r\n                    this.event.publish('http:errors', err);\r\n                });\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sondage/sondage.ts"],"sourceRoot":""}