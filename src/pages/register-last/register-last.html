<!--
  Generated template for the RegisterLastPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-content padding>
    <div class="div-left">
    </div>
    <div class="div-center">
        <div class="back-page" (click)="registerFirstStepPage()">
            <ion-icon name="ios-arrow-back-outline"></ion-icon>
        </div>
        <ion-grid class="no-padding padding-horizontal">
            <ion-row>
                <ion-col margin-bottom text-center>
                    <img class="img-logo" margin-bottom src="assets/imgs/icons/logo-simple.png" alt="NOUS-Ensemble">
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col text-center>
                    <div class="register-title" text-center>
                        La dernière étape !
                    </div>
                </ion-col>
            </ion-row>
            <ion-row>
                <form [formGroup]="secondRegisterForm" novalidate>
                    <ion-row>
                        <ion-col class="col-input">
                            <ion-label color="light-black" stacked>Adresse e-mail</ion-label>
                            <ion-item text-center [class.formError]="( secondRegisterForm.get('email').hasError('required') || secondRegisterForm.get('email').hasError('email') ) && submited">
                                <ion-input type="email" id="email" name="email" required [(ngModel)]="newUser.email"
                                    (focus)="checkFocus($event)" formControlName="email"></ion-input>
                            </ion-item>
                            <div class="error-msg" *ngIf="secondRegisterForm.get('email').hasError('required') && submited">
                                <span class="error">Veuillez indiquer votre email</span>
                            </div>
                            <div class="error-msg" *ngIf="secondRegisterForm.get('email').hasError('email') && !secondRegisterForm.get('email').hasError('required') && submited">
                                <span class="error">Veuillez indiquer un email valide</span>
                            </div>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col class="col-input">
                            <ion-label color="light-black" stacked>Mot de passe</ion-label>
                            <ion-item text-center [class.formError]="(secondRegisterForm.get('password').hasError('minlength') || secondRegisterForm.get('password').hasError('required') ) && submited">
                                <ion-input type="password" id="password" name="password" formControlName="password"
                                    required (focus)="checkFocus($event)" [(ngModel)]="newUser.password"></ion-input>
                            </ion-item>
                            <div class="error-msg" *ngIf="secondRegisterForm.get('password').hasError('required') && submited">
                                <span class="error">Veuillez indiquer votre mot de passe</span>
                            </div>
                            <div class="error-msg" *ngIf="secondRegisterForm.get('password').hasError('minlength') && !secondRegisterForm.get('password').hasError('required') && submited">
                                <span class="error">Mot de passe doit contenir au moin 6 chiffres</span>
                            </div>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col class="col-input">
                            <ion-label color="light-black" stacked>Mot de passe (vérification)</ion-label>
                            <ion-item text-center [class.formError]="(secondRegisterForm.get('confirm_password').invalid || secondRegisterForm.get('confirm_password').hasError('required') ) && submited">
                                <ion-input type="password" id="rePassword" name="rePassword" (focus)="checkFocus($event)"
                                    formControlName="confirm_password" required [(ngModel)]="newUser.rePassword"></ion-input>
                            </ion-item>
                            <div class="error-msg" *ngIf="(secondRegisterForm.get('confirm_password').invalid || secondRegisterForm.get('confirm_password').hasError('required') ) && submited">
                                <span class="error">Les mots de passe ne sont pas identiques</span>
                            </div>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col class="col-submit" text-center>
                            <button ion-button color="primary" round class="button-big submit-register" (click)="registerUser(secondRegisterForm.invalid)">
                                C'est parti !
                            </button>
                            <img class="img-cloud" src="assets/imgs/cloud.png" alt="NOUS-Ensemble" />
                        </ion-col>
                    </ion-row>
                    <ion-row class="padding-horizontal">
                        <ion-col class="div-img">
                            <img  src="assets/imgs/forget-password.png" alt="NOUS-Ensemble" class="img-bottom"/>

                        </ion-col>
                    </ion-row>
                </form>
            </ion-row>
        </ion-grid>
    </div>
    <div class="div-right">
    </div>
</ion-content>